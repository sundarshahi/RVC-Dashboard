import{r as n}from"./react.7ded48a1.js";import{f as Z,z,R as A}from"./react-remove-scroll-bar.eb26885f.js";import{a as F,e as Q}from"./use-sidecar.aa4a0fa4.js";import{u as $}from"./use-callback-ref.38831812.js";import{s as q}from"./react-style-singleton.55676bbd.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var R=function(){return R=Object.assign||function(r){for(var o,a=1,l=arguments.length;a<l;a++){o=arguments[a];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])}return r},R.apply(this,arguments)};function G(e,r){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)r.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(o[a[l]]=e[a[l]]);return o}var j=F(),T=function(){},Y=n.exports.forwardRef(function(e,r){var o=n.exports.useRef(null),a=n.exports.useState({onScrollCapture:T,onWheelCapture:T,onTouchMoveCapture:T}),l=a[0],u=a[1],i=e.forwardProps,m=e.children,v=e.className,C=e.removeScrollBar,g=e.enabled,S=e.shards,w=e.sideCar,y=e.noIsolation,E=e.inert,t=e.allowPinchZoom,c=e.as,b=c===void 0?"div":c,d=G(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),f=w,h=$([o,r]),s=R({},d,l);return n.exports.createElement(n.exports.Fragment,null,g&&n.exports.createElement(f,{sideCar:j,removeScrollBar:C,shards:S,noIsolation:y,inert:E,setCallbacks:u,allowPinchZoom:!!t,lockRef:o}),i?n.exports.cloneElement(n.exports.Children.only(m),R({},s,{ref:h})):n.exports.createElement(b,R({},s,{className:v,ref:h}),m))});Y.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Y.classNames={fullWidth:Z,zeroRight:z};var J=function(e){var r=window.getComputedStyle(e);return r.overflowY!=="hidden"&&!(r.overflowY===r.overflowX&&r.overflowY==="visible")},K=function(e){var r=window.getComputedStyle(e);return r.overflowX!=="hidden"&&!(r.overflowY===r.overflowX&&r.overflowX==="visible")},M=function(e,r){var o=r;do{var a=D(e,o);if(a){var l=H(e,o),u=l[1],i=l[2];if(u>i)return!0}o=o.parentNode}while(o&&o!==document.body);return!1},U=function(e){var r=e.scrollTop,o=e.scrollHeight,a=e.clientHeight;return[r,o,a]},_=function(e){var r=e.scrollLeft,o=e.scrollWidth,a=e.clientWidth;return[r,o,a]},D=function(e,r){return e==="v"?J(r):K(r)},H=function(e,r){return e==="v"?U(r):_(r)},ee=function(e,r,o,a,l){var u=a,i=o.target,m=r.contains(i),v=!1,C=u>0,g=0,S=0;do{var w=H(e,i),y=w[0],E=w[1],t=w[2],c=E-t-y;(y||c)&&D(e,i)&&(g+=c,S+=y),i=i.parentNode}while(!m&&i!==document.body||m&&(r.contains(i)||r===i));return(C&&(l&&g===0||!l&&u>g)||!C&&(l&&S===0||!l&&-u>S))&&(v=!0),v},X=!1;if(typeof window!="undefined")try{var B=Object.defineProperty({},"passive",{get:function(){return X=!0,!0}});window.addEventListener("test",B,B),window.removeEventListener("test",B,B)}catch{X=!1}var x=X?{passive:!1}:!1,L=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},W=function(e){return[e.deltaX,e.deltaY]},I=function(e){return e&&"current"in e?e.current:e},re=function(e,r){return e[0]===r[0]&&e[1]===r[1]},te=function(e){return`
  .block-interactivity-`+e+` {pointer-events: none;}
  .allow-interactivity-`+e+` {pointer-events: all;}
`},ae=0,p=[];function ne(e){var r=n.exports.useRef([]),o=n.exports.useRef([0,0]),a=n.exports.useRef(),l=n.exports.useState(ae++)[0],u=n.exports.useState(function(){return q()})[0],i=n.exports.useRef(e);n.exports.useEffect(function(){i.current=e},[e]),n.exports.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-"+l);var t=[e.lockRef.current].concat((e.shards||[]).map(I)).filter(Boolean);return t.forEach(function(c){return c.classList.add("allow-interactivity-"+l)}),function(){document.body.classList.remove("block-interactivity-"+l),t.forEach(function(c){return c.classList.remove("allow-interactivity-"+l)})}}},[e.inert,e.lockRef.current,e.shards]);var m=n.exports.useCallback(function(t,c){if("touches"in t&&t.touches.length===2)return!i.current.allowPinchZoom;var b=L(t),d=o.current,f="deltaX"in t?t.deltaX:d[0]-b[0],h="deltaY"in t?t.deltaY:d[1]-b[1],s,N=t.target,k=Math.abs(f)>Math.abs(h)?"h":"v",P=M(k,N);if(!P)return!0;if(P?s=k:(s=k==="v"?"h":"v",P=M(k,N)),!P)return!1;if(!a.current&&"changedTouches"in t&&(f||h)&&(a.current=s),!s)return!0;var O=a.current||s;return ee(O,c,t,O==="h"?f:h,!0)},[]),v=n.exports.useCallback(function(t){var c=t;if(!(!p.length||p[p.length-1]!==u)){var b="deltaY"in c?W(c):L(c),d=r.current.filter(function(s){return s.name===c.type&&s.target===c.target&&re(s.delta,b)})[0];if(d&&d.should){c.preventDefault();return}if(!d){var f=(i.current.shards||[]).map(I).filter(Boolean).filter(function(s){return s.contains(c.target)}),h=f.length>0?m(c,f[0]):!i.current.noIsolation;h&&c.preventDefault()}}},[]),C=n.exports.useCallback(function(t,c,b,d){var f={name:t,delta:c,target:b,should:d};r.current.push(f),setTimeout(function(){r.current=r.current.filter(function(h){return h!==f})},1)},[]),g=n.exports.useCallback(function(t){o.current=L(t),a.current=void 0},[]),S=n.exports.useCallback(function(t){C(t.type,W(t),t.target,m(t,e.lockRef.current))},[]),w=n.exports.useCallback(function(t){C(t.type,L(t),t.target,m(t,e.lockRef.current))},[]);n.exports.useEffect(function(){return p.push(u),e.setCallbacks({onScrollCapture:S,onWheelCapture:S,onTouchMoveCapture:w}),document.addEventListener("wheel",v,x),document.addEventListener("touchmove",v,x),document.addEventListener("touchstart",g,x),function(){p=p.filter(function(t){return t!==u}),document.removeEventListener("wheel",v,x),document.removeEventListener("touchmove",v,x),document.removeEventListener("touchstart",g,x)}},[]);var y=e.removeScrollBar,E=e.inert;return n.exports.createElement(n.exports.Fragment,null,E?n.exports.createElement(u,{styles:te(l)}):null,y?n.exports.createElement(A,{gapMode:"margin"}):null)}var oe=Q(j,ne),V=n.exports.forwardRef(function(e,r){return n.exports.createElement(Y,R({},e,{ref:r,sideCar:oe}))});V.classNames=Y.classNames;var fe=V;export{fe as R};
