import{a as ir,_ as w,c as Ir}from"./tslib.2bd10da0.js";import{i as J}from"./hey-listen.45400d5c.js";import{i as wr,r as Rr,j as ur,c as sr,e as vr}from"./style-value-types.558ea47d.js";import{s as Er,c as Ar,g as Nr}from"./framesync.9f9facff.js";var Q=function(r,e,n){return Math.min(Math.max(n,r),e)},G=.001,Ur=.01,Hr=10,Lr=.05,Pr=1;function Vr(r){var e=r.duration,n=e===void 0?800:e,t=r.bounce,a=t===void 0?.25:t,i=r.velocity,o=i===void 0?0:i,s=r.mass,v=s===void 0?1:s,u,f,d=1-a;d=Q(Lr,Pr,d),n=Q(Ur,Hr,n/1e3),d<1?(u=function(l){var S=l*d,p=S*n,R=S-o,I=W(l,d),y=Math.exp(-p);return G-R/I*y},f=function(l){var S=l*d,p=S*n,R=p*o+o,I=Math.pow(d,2)*Math.pow(l,2)*n,y=Math.exp(-p),c=W(Math.pow(l,2),d),m=-u(l)+G>0?-1:1;return m*((R-I)*y)/c}):(u=function(l){var S=Math.exp(-l*n),p=(l-o)*n+1;return-G+S*p},f=function(l){var S=Math.exp(-l*n),p=(o-l)*(n*n);return S*p});var g=5/n,M=Br(u,f,g);if(n=n*1e3,isNaN(M))return{stiffness:100,damping:10,duration:n};var b=Math.pow(M,2)*v;return{stiffness:b,damping:d*2*Math.sqrt(v*b),duration:n}}var zr=12;function Br(r,e,n){for(var t=n,a=1;a<zr;a++)t=t-r(t)/e(t);return t}function W(r,e){return r*Math.sqrt(1-e*e)}var jr=["duration","bounce"],kr=["stiffness","damping","mass"];function rr(r,e){return e.some(function(n){return r[n]!==void 0})}function Fr(r){var e=w({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},r);if(!rr(r,kr)&&rr(r,jr)){var n=Vr(r);e=w(w(w({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function q(r){var e=r.from,n=e===void 0?0:e,t=r.to,a=t===void 0?1:t,i=r.restSpeed,o=i===void 0?2:i,s=r.restDelta,v=ir(r,["from","to","restSpeed","restDelta"]),u={done:!1,value:n},f=Fr(v),d=f.stiffness,g=f.damping,M=f.mass,b=f.velocity,l=f.duration,S=f.isResolvedFromDuration,p=er,R=er;function I(){var y=b?-(b/1e3):0,c=a-n,m=g/(2*Math.sqrt(d*M)),x=Math.sqrt(d/M)/1e3;if(s!=null||(s=Math.abs(a-n)<=1?.01:.4),m<1){var D=W(x,m);p=function(h){var O=Math.exp(-m*x*h);return a-O*((y+m*x*c)/D*Math.sin(D*h)+c*Math.cos(D*h))},R=function(h){var O=Math.exp(-m*x*h);return m*x*O*(Math.sin(D*h)*(y+m*x*c)/D+c*Math.cos(D*h))-O*(Math.cos(D*h)*(y+m*x*c)-D*c*Math.sin(D*h))}}else if(m===1)p=function(h){return a-Math.exp(-x*h)*(c+(y+x*c)*h)};else{var C=x*Math.sqrt(m*m-1);p=function(h){var O=Math.exp(-m*x*h),E=Math.min(C*h,300);return a-O*((y+m*x*c)*Math.sinh(E)+C*c*Math.cosh(E))/C}}}return I(),{next:function(y){var c=p(y);if(S)u.done=y>=l;else{var m=R(y)*1e3,x=Math.abs(m)<=o,D=Math.abs(a-c)<=s;u.done=x&&D}return u.value=u.done?a:c,u},flipTarget:function(){var y;b=-b,y=[a,n],n=y[0],a=y[1],I()}}}q.needsInterpolation=function(r,e){return typeof r=="string"||typeof e=="string"};var er=function(r){return 0},fr=function(r,e,n){var t=e-r;return t===0?1:(n-r)/t},j=function(r,e,n){return-n*r+n*e+r},Kr=function(r,e,n){var t=r*r,a=e*e;return Math.sqrt(Math.max(0,n*(a-t)+t))},Gr=[wr,Rr,ur],nr=function(r){return Gr.find(function(e){return e.test(r)})},cr=function(r,e){var n=nr(r),t=nr(e);J(n.transform===t.transform);var a=n.parse(r),i=t.parse(e),o=w({},a),s=n===ur?j:Kr;return function(v){for(var u in o)u!=="alpha"&&(o[u]=s(a[u],i[u],v));return o.alpha=j(a.alpha,i.alpha,v),n.transform(o)}},Z=function(r){return typeof r=="number"},Jr=function(r,e){return function(n){return e(r(n))}},lr=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.reduce(Jr)};function dr(r,e){return Z(r)?function(n){return j(r,e,n)}:vr.test(r)?cr(r,e):mr(r,e)}var pr=function(r,e){var n=Ir([],r),t=n.length,a=r.map(function(i,o){return dr(i,e[o])});return function(i){for(var o=0;o<t;o++)n[o]=a[o](i);return n}},Qr=function(r,e){var n=w(w({},r),e),t={};for(var a in n)r[a]!==void 0&&e[a]!==void 0&&(t[a]=dr(r[a],e[a]));return function(i){for(var o in t)n[o]=t[o](i);return n}};function tr(r){for(var e=sr.parse(r),n=e.length,t=0,a=0,i=0,o=0;o<n;o++)t||typeof e[o]=="number"?t++:e[o].hue!==void 0?i++:a++;return{parsed:e,numNumbers:t,numRGB:a,numHSL:i}}var mr=function(r,e){var n=sr.createTransformer(e),t=tr(r),a=tr(e);return lr(pr(t.parsed,a.parsed),n)},Wr=function(r,e){return function(n){return j(r,e,n)}};function Zr(r){if(typeof r=="number")return Wr;if(typeof r=="string")return vr.test(r)?cr:mr;if(Array.isArray(r))return pr;if(typeof r=="object")return Qr}function $r(r,e,n){for(var t=[],a=n||Zr(r[0]),i=r.length-1,o=0;o<i;o++){var s=a(r[o],r[o+1]);if(e){var v=Array.isArray(e)?e[o]:e;s=lr(v,s)}t.push(s)}return t}function Yr(r,e){var n=r[0],t=r[1],a=e[0];return function(i){return a(fr(n,t,i))}}function qr(r,e){var n=r.length,t=n-1;return function(a){var i=0,o=!1;if(a<=r[0]?o=!0:a>=r[t]&&(i=t-1,o=!0),!o){for(var s=1;s<n&&!(r[s]>a||s===t);s++);i=s-1}var v=fr(r[i],r[i+1],a);return e[i](v)}}function hr(r,e,n){var t=n===void 0?{}:n,a=t.clamp,i=a===void 0?!0:a,o=t.ease,s=t.mixer,v=r.length;J(v===e.length),J(!o||!Array.isArray(o)||o.length===v-1),r[0]>r[v-1]&&(r=[].concat(r),e=[].concat(e),r.reverse(),e.reverse());var u=$r(e,o,s),f=v===2?Yr(r,u):qr(r,u);return i?function(d){return f(Q(r[0],r[v-1],d))}:f}var F=function(r){return function(e){return 1-r(1-e)}},_=function(r){return function(e){return e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2}},_r=function(r){return function(e){return Math.pow(e,r)}},yr=function(r){return function(e){return e*e*((r+1)*e-r)}},Xr=function(r){var e=yr(r);return function(n){return(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))}},xr=1.525,re=4/11,ee=8/11,ne=9/10,te=function(r){return r},Mr=_r(2),Ee=F(Mr),ae=_(Mr),oe=function(r){return 1-Math.sin(Math.acos(r))},ie=F(oe),Ae=_(ie),gr=yr(xr),Ne=F(gr),Ue=_(gr),He=Xr(xr),ue=4356/361,se=35442/1805,ve=16061/1805,$=function(r){if(r===1||r===0)return r;var e=r*r;return r<re?7.5625*e:r<ee?9.075*e-9.9*r+3.4:r<ne?ue*e-se*r+ve:10.8*r*r-20.52*r+10.72},Le=F($),Pe=function(r){return r<.5?.5*(1-$(1-r*2)):.5*$(r*2-1)+.5};function fe(r,e){return r.map(function(){return e||ae}).splice(0,r.length-1)}function ce(r){var e=r.length;return r.map(function(n,t){return t!==0?t/(e-1):0})}function le(r,e){return r.map(function(n){return n*e})}function z(r){var e=r.from,n=e===void 0?0:e,t=r.to,a=t===void 0?1:t,i=r.ease,o=r.offset,s=r.duration,v=s===void 0?300:s,u={done:!1,value:n},f=Array.isArray(a)?a:[n,a],d=le(o&&o.length===f.length?o:ce(f),v);function g(){return hr(d,f,{ease:Array.isArray(i)?i:fe(f,i)})}var M=g();return{next:function(b){return u.value=M(b),u.done=b>=v,u},flipTarget:function(){f.reverse(),M=g()}}}function de(r){var e=r.velocity,n=e===void 0?0:e,t=r.from,a=t===void 0?0:t,i=r.power,o=i===void 0?.8:i,s=r.timeConstant,v=s===void 0?350:s,u=r.restDelta,f=u===void 0?.5:u,d=r.modifyTarget,g={done:!1,value:a},M=o*n,b=a+M,l=d===void 0?b:d(b);return l!==b&&(M=l-a),{next:function(S){var p=-M*Math.exp(-S/v);return g.done=!(p>f||p<-f),g.value=g.done?l:l+p,g},flipTarget:function(){}}}var ar={keyframes:z,spring:q,decay:de};function pe(r){if(Array.isArray(r.to))return z;if(ar[r.type])return ar[r.type];var e=new Set(Object.keys(r));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?z:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?q:z}function br(r,e,n){return n===void 0&&(n=0),r-e-n}function me(r,e,n,t){return n===void 0&&(n=0),t===void 0&&(t=!0),t?br(e+-r,e,n):e-(r-e)+n}function he(r,e,n,t){return t?r>=e+n:r<=-n}var ye=function(r){var e=function(n){var t=n.delta;return r(t)};return{start:function(){return Er.update(e,!0)},stop:function(){return Ar.update(e)}}};function xe(r){var e,n,t=r.from,a=r.autoplay,i=a===void 0?!0:a,o=r.driver,s=o===void 0?ye:o,v=r.elapsed,u=v===void 0?0:v,f=r.repeat,d=f===void 0?0:f,g=r.repeatType,M=g===void 0?"loop":g,b=r.repeatDelay,l=b===void 0?0:b,S=r.onPlay,p=r.onStop,R=r.onComplete,I=r.onRepeat,y=r.onUpdate,c=ir(r,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),m=c.to,x,D=0,C=c.duration,h,O=!1,E=!0,A,N=pe(c);!((n=(e=N).needsInterpolation)===null||n===void 0)&&n.call(e,t,m)&&(A=hr([0,100],[t,m],{clamp:!1}),t=0,m=100);var H=N(w(w({},c),{from:t,to:m}));function T(){D++,M==="reverse"?(E=D%2===0,u=me(u,C,l,E)):(u=br(u,C,l),M==="mirror"&&H.flipTarget()),O=!1,I&&I()}function L(){x.stop(),R&&R()}function U(K){if(E||(K=-K),u+=K,!O){var X=H.next(Math.max(0,u));h=X.value,A&&(h=A(h)),O=E?X.done:u<=0}y==null||y(h),O&&(D===0&&(C!=null||(C=u)),D<d?he(u,C,l,E)&&T():L())}function Cr(){S==null||S(),x=s(U),x.start()}return i&&Cr(),{stop:function(){p==null||p(),x.stop()}}}function Me(r,e){return e?r*(1e3/e):0}function Ve(r){var e=r.from,n=e===void 0?0:e,t=r.velocity,a=t===void 0?0:t,i=r.min,o=r.max,s=r.power,v=s===void 0?.8:s,u=r.timeConstant,f=u===void 0?750:u,d=r.bounceStiffness,g=d===void 0?500:d,M=r.bounceDamping,b=M===void 0?10:M,l=r.restDelta,S=l===void 0?1:l,p=r.modifyTarget,R=r.driver,I=r.onUpdate,y=r.onComplete,c;function m(T){return i!==void 0&&T<i||o!==void 0&&T>o}function x(T){return i===void 0?o:o===void 0||Math.abs(i-T)<Math.abs(o-T)?i:o}function D(T){c==null||c.stop(),c=xe(w(w({},T),{driver:R,onUpdate:function(L){var U;I==null||I(L),(U=T.onUpdate)===null||U===void 0||U.call(T,L)},onComplete:y}))}function C(T){D(w({type:"spring",stiffness:g,damping:b,restDelta:S},T))}if(m(n))C({from:n,velocity:a,to:x(n)});else{var h=v*a+n;typeof p!="undefined"&&(h=p(h));var O=x(h),E=O===i?-1:1,A,N,H=function(T){A=N,N=T,a=Me(T-A,Nr().delta),(E===1&&T>O||E===-1&&T<O)&&C({from:T,to:O,velocity:a})};D({type:"decay",from:n,velocity:a,timeConstant:f,power:v,restDelta:S,modifyTarget:p,onUpdate:m(h)?H:void 0})}return{stop:function(){return c==null?void 0:c.stop()}}}var Y=function(r){return r.hasOwnProperty("x")&&r.hasOwnProperty("y")},or=function(r){return Y(r)&&r.hasOwnProperty("z")},P=function(r,e){return Math.abs(r-e)};function ze(r,e){if(Z(r)&&Z(e))return P(r,e);if(Y(r)&&Y(e)){var n=P(r.x,e.x),t=P(r.y,e.y),a=or(r)&&or(e)?P(r.z,e.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(t,2)+Math.pow(a,2))}}var Sr=function(r,e){return 1-3*e+3*r},Dr=function(r,e){return 3*e-6*r},Tr=function(r){return 3*r},k=function(r,e,n){return((Sr(e,n)*r+Dr(e,n))*r+Tr(e))*r},Or=function(r,e,n){return 3*Sr(e,n)*r*r+2*Dr(e,n)*r+Tr(e)},ge=1e-7,be=10;function Se(r,e,n,t,a){var i,o,s=0;do o=e+(n-e)/2,i=k(o,t,a)-r,i>0?n=o:e=o;while(Math.abs(i)>ge&&++s<be);return o}var De=8,Te=.001;function Oe(r,e,n,t){for(var a=0;a<De;++a){var i=Or(e,n,t);if(i===0)return e;var o=k(e,n,t)-r;e-=o/i}return e}var B=11,V=1/(B-1);function Be(r,e,n,t){if(r===e&&n===t)return te;for(var a=new Float32Array(B),i=0;i<B;++i)a[i]=k(i*V,r,n);function o(s){for(var v=0,u=1,f=B-1;u!==f&&a[u]<=s;++u)v+=V;--u;var d=(s-a[u])/(a[u+1]-a[u]),g=v+d*V,M=Or(g,r,n);return M>=Te?Oe(s,g,r,n):M===0?g:Se(s,v,v+V,r,n)}return function(s){return s===0||s===1?s:k(o(s),e,t)}}export{ae as a,Ee as b,Be as c,oe as d,Mr as e,Ae as f,ie as g,gr as h,Ue as i,Ne as j,He as k,te as l,Le as m,Pe as n,$ as o,lr as p,Ve as q,xe as r,ze as s,j as t,Q as u,Me as v,fr as w};
